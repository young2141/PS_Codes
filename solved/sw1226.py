#sw expert academy 1226 lv4 dfs

dy = [-1,0,1,0]
dx = [0,1,0,-1]
n = 16

def dfs(w,y,x):
    visit[y][x] = 1
    for i in range(4):
        ny = y + dy[i]
        nx = x + dx[i]
        if visit[ny][nx] == 0 :
            if w[ny][nx] == 0 or w[ny][nx] == 3:
                dfs(w,ny,nx)


for tc in range(1, 11):

    case = int(input())
    w = [[int(x) for x in list(input())]for y in range(n)]
    visit = [[0]*n for y in range(n)]
    start,end = [0,0],[0,0]
    for i in range(n):
        for j in range(n):
            if w[i][j] == 2 :
                start =[i,j]
            if w[i][j] == 3 :
                end = [i,j]
    visit[start[0]][start[1]] = 1
    dfs(w,start[0], start[1])
    
    print('#%d %d' % (tc, visit[end[0]][end[1]])) 

'''
1
1111111111111111
1210000000100011
1010101110101111
1000100010100011
1111111010101011
1000000010101011
1011111110111011
1010000010001011
1010101111101011
1010100010001011
1010111010111011
1010001000100011
1011101111101011
1000100000001311
1111111111111111
1111111111111111
2
1111111111111111
1200000010000011
1011111011111011
1000001010000011
1110101010111011
1010101010100011
1011111010111111
1000001010000011
1011101011111011
1010101010000011
1010101010111111
1010100000130011
1010111111111011
1000000000000011
1111111111111111
1111111111111111
'''
